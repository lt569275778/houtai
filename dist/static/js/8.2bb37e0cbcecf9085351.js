webpackJsonp([8],{526:function(t,e,a){a(721);var i=a(198)(a(575),a(686),null,null);t.exports=i.exports},542:function(t,e,a){a(546);var i=a(198)(a(543),a(545),"data-v-e3f4aa38",null);t.exports=i.exports},543:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["formInline"],methods:{handleSizeChange:function(t){this.formInline.pageSize=t,this.$emit("pageSubmit")},handleCurrentChange:function(t){this.formInline.currentPage=t,this.$emit("pageSubmit")}}}},544:function(t,e,a){e=t.exports=a(88)(void 0),e.push([t.i,".block[data-v-e3f4aa38]{margin-top:20px;width:100%}.block .r_btn[data-v-e3f4aa38]{float:left;width:90px}.block .r_page[data-v-e3f4aa38]{float:right}",""])},545:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("div",{staticClass:"r_page"},[a("el-pagination",{attrs:{"current-page":t.formInline.currentPage,"page-sizes":[10,20,30,40],"page-size":t.formInline.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.formInline.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]}},546:function(t,e,a){var i=a(544);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(199)("6671aa90",i,!0)},574:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{formLabelWidth:"120px",labelPosition:"right",channelOptions:[],productOptions:[],rules:{channelId:[{required:!0,message:"不能为空",trigger:"blur"}],certificationId:[{required:!0,message:"不能为空",trigger:"blur"}],isValid:[{required:!0}]}}},props:["addOrUpdate","channelProductData","isDisabled"],methods:{saveChannelProduct:function(){var t=this.channelProductData;return""==this.channelProductData.channelId?void this.$message.error("渠道ID不能为空！"):""==this.channelProductData.certificationId?(this.$message.error("产品ID不能为空！"),void certificationId):(this.$axios.post(this.$api.saveChannelProductMapping+"?addOrUpdate="+this.addOrUpdate,t).then(function(t){"200"==t.data.code?this.$message({message:t.data.message,type:"success"}):this.$message.error(t.data.message)}.bind(this)),void this.closeDialog())},closeDialog:function(){this.$emit("closeDialog")},getSelectOptions:function(){this.$axios.post(this.$api.getChannelOption).then(function(t){this.channelOptions=t.data.ChannelOptions}.bind(this))},getProductOptions:function(){this.$axios.post(this.$api.getProductOptions).then(function(t){this.productOptions=t.data.tableList}.bind(this))}}}},575:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(542),n=a.n(i),l=a(646),o=a.n(l);e.default={data:function(){return{loading2:!1,tableData:[],dialogFormVisible:!1,pageParam:{currentPage:1,total:0,pageSize:10},channelOptions:[],isValid:"",channelProductData:[]}},components:{Page:n.a,edit:o.a},mounted:function(){this.loadData()},methods:{loadData:function(){this.loading2=!0;var t={pageNo:this.pageParam.currentPage,pageSize:this.pageParam.pageSize,isValid:this.isValid,channelId:this.channelName};this.$axios.post(this.$api.channelProductList,t).then(function(t){this.tableData=t.data.tableList,this.pageParam.total=t.data.total}.bind(this)),this.loading2=!1},getSelectOptions:function(){this.$axios.post(this.$api.getChannelOption).then(function(t){this.channelOptions=t.data.ChannelOptions}.bind(this))},editChannelProduct:function(t){this.addOrUpdate="update",this.cpid=t.id,this.isDisabled=!0,this.dialogFormVisible=!0,this.$axios.post(this.$api.getChannelProductMapping+"?id="+this.cpid).then(function(t){this.channelProductData=t.data.channelCertificationMapping}.bind(this))},addChannelProduct:function(){this.addOrUpdate="add",this.isDisabled=!1,this.channelProductData={channelId:"",certificationId:"",isValid:""},this.dialogFormVisible=!0},closeDialog:function(){this.$emit("close"),this.dialogFormVisible=!1},refresh:function(){this.loadData()},onSubmit:function(){this.loadData()},reset:function(){this.isValid="",this.channelName=""}}}},626:function(t,e,a){e=t.exports=a(88)(void 0),e.push([t.i,"",""])},631:function(t,e,a){e=t.exports=a(88)(void 0),e.push([t.i,"",""])},646:function(t,e,a){a(726);var i=a(198)(a(574),a(692),null,null);t.exports=i.exports},686:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[t._v("\n            当前位置：渠道产品映射关系\n        ")])],1),t._v(" "),a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{"visible-change":t.getSelectOptions},model:{value:t.channelName,callback:function(e){t.channelName=e},expression:"channelName"}},t._l(t.channelOptions,function(t){return a("el-option",{key:t.channelName,attrs:{label:t.channelName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"是否有效"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"el-icon-refresh",attrs:{type:"primary"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1),t._v(" "),a("div",[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"info",size:"small"},on:{click:t.addChannelProduct}},[t._v("添加")])],1),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"true",border:"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"certificationId",label:"产品ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isValid",label:"是否有效"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"true",prop:"createTime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createUser",label:"创建者"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"true",prop:"updateTime",label:"更新时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateUser",label:"更新者"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",width:"100",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){t.editChannelProduct({id:e.row.id})}}},[t._v("修改")])]}}])})],1)],1),t._v(" "),a("div",[a("page",{attrs:{formInline:t.pageParam},on:{pageSubmit:t.loadData}})],1),t._v(" "),a("div",[a("el-dialog",{attrs:{title:"修改渠道信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.refresh}},[a("edit",{attrs:{addOrUpdate:t.addOrUpdate,channelProductData:t.channelProductData,isDisabled:t.isDisabled},on:{closeDialog:t.closeDialog}})],1)],1)])},staticRenderFns:[]}},692:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{align:"center"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,rules:t.rules,model:t.channelProductData,"label-position":t.labelPosition}},[a("el-form-item",{attrs:{label:"渠道ID",prop:"channelId","label-width":t.formLabelWidth}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:t.isDisabled},on:{"visible-change":t.getSelectOptions},model:{value:t.channelProductData.channelId,callback:function(e){t.$set(t.channelProductData,"channelId",e)},expression:"channelProductData.channelId"}},t._l(t.channelOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.id,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"产品ID",prop:"certificationId","label-width":t.formLabelWidth}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{"visible-change":t.getProductOptions},model:{value:t.channelProductData.certificationId,callback:function(e){t.$set(t.channelProductData,"certificationId",e)},expression:"channelProductData.certificationId"}},t._l(t.productOptions,function(t){return a("el-option",{key:t.productName,attrs:{label:t.productId,value:t.productId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"是否有效",prop:"isValid","label-width":t.formLabelWidth}},[a("el-select",{model:{value:t.channelProductData.isValid,callback:function(e){t.$set(t.channelProductData,"isValid",e)},expression:"channelProductData.isValid"}},[a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1)],1),t._v(" "),a("div",[a("el-button",{on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveChannelProduct}},[t._v("确 定")])],1)],1)])},staticRenderFns:[]}},721:function(t,e,a){var i=a(626);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(199)("2a573620",i,!0)},726:function(t,e,a){var i=a(631);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(199)("a943c87c",i,!0)}});